<template>
  <div class="container_wide layout_category grid-layout_ads">
    <CategoryHeader>
      {{ body.title }}
      <template v-slot:right_column>
        <svg
          width="395"
          height="395"
          viewBox="0 0 395 395"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          style="filter: drop-shadow(0 0 6px dodgerblue)"
        >
          <g filter="url(#filter0_f)">
            <circle
              cx="197.5"
              cy="197.5"
              r="184.5"
              fill="#0E243E"
              fill-opacity="0.1"
            />
            <circle
              cx="197.5"
              cy="197.5"
              r="184.5"
              stroke="#7BD7FF"
              stroke-width="6"
            />
          </g>
          <g filter="url(#filter1_f)">
            <circle
              cx="197.5"
              cy="197.5"
              r="184.5"
              fill="#0E243E"
              fill-opacity="0.1"
            />
            <circle
              cx="197.5"
              cy="197.5"
              r="183"
              stroke="white"
              stroke-width="3"
            />
          </g>
          <g clip-path="url(#clip0)">
            <path d="M153.75 213.5H161.25V221H153.75V213.5Z" fill="white" />
            <path d="M168.748 213.5H176.248V221H168.748V213.5Z" fill="white" />
            <path d="M183.748 213.5H191.248V221H183.748V213.5Z" fill="white" />
            <path d="M153.75 228.5H161.25V236H153.75V228.5Z" fill="white" />
            <path d="M168.748 228.5H176.248V236H168.748V228.5Z" fill="white" />
            <path d="M183.748 228.5H191.248V236H183.748V228.5Z" fill="white" />
            <path d="M198.748 228.5H206.248V236H198.748V228.5Z" fill="white" />
            <path d="M213.746 228.5H221.246V236H213.746V228.5Z" fill="white" />
            <path d="M153.75 243.5H161.25V251H153.75V243.5Z" fill="white" />
            <path d="M168.748 243.5H176.248V251H168.748V243.5Z" fill="white" />
            <path d="M183.748 243.5H191.248V251H183.748V243.5Z" fill="white" />
            <path d="M198.748 243.5H206.248V251H198.748V243.5Z" fill="white" />
            <path d="M213.746 243.5H221.246V251H213.746V243.5Z" fill="white" />
            <path d="M153.75 258.5H161.25V266H153.75V258.5Z" fill="white" />
            <path d="M168.748 258.5H176.248V266H168.748V258.5Z" fill="white" />
            <path d="M183.748 258.5H191.248V266H183.748V258.5Z" fill="white" />
            <path d="M198.748 258.5H206.248V266H198.748V258.5Z" fill="white" />
            <path d="M213.746 258.5H221.246V266H213.746V258.5Z" fill="white" />
            <path d="M153.75 273.5H161.25V280.999H153.75V273.5Z" fill="white" />
            <path
              d="M168.748 273.5H176.248V280.999H168.748V273.5Z"
              fill="white"
            />
            <path
              d="M183.748 273.5H191.248V280.999H183.748V273.5Z"
              fill="white"
            />
            <path
              d="M198.748 273.5H206.248V280.999H198.748V273.5Z"
              fill="white"
            />
            <path
              d="M213.746 273.5H221.246V280.999H213.746V273.5Z"
              fill="white"
            />
            <path
              d="M153.75 288.499H161.25V295.999H153.75V288.499Z"
              fill="white"
            />
            <path
              d="M168.748 288.499H176.248V295.999H168.748V288.499Z"
              fill="white"
            />
            <path
              d="M183.748 288.499H191.248V295.999H183.748V288.499Z"
              fill="white"
            />
            <path
              d="M198.748 288.499H206.248V295.999H198.748V288.499Z"
              fill="white"
            />
            <path
              d="M213.746 288.499H221.246V295.999H213.746V288.499Z"
              fill="white"
            />
            <path
              d="M311.248 97.2528H284.999V89.7529C284.999 87.682 283.319 86.0029 281.249 86.0029H243.749C241.678 86.0029 239.999 87.682 239.999 89.7529V97.2528H93.75C91.6791 97.2528 90 98.9319 90 101.003V116.003C90 118.075 91.6791 119.753 93.75 119.753H105V191.002C105 193.075 106.679 194.752 108.75 194.752C110.821 194.752 112.5 196.431 112.5 198.502C112.5 200.575 110.821 202.252 108.75 202.252C106.679 202.252 105 200.575 105 198.502H97.4999C97.5109 201.247 98.5308 203.893 100.369 205.932L90.7507 218.753L90.7983 218.79C90.2966 219.42 90.0165 220.198 90 221.002V236.002C90 236.998 90.3955 237.95 91.0986 238.653L98.5986 246.153C99.3017 246.856 100.256 247.252 101.25 247.252H116.25C117.244 247.252 118.198 246.856 118.901 246.153L126.401 238.653C127.104 237.95 127.5 236.998 127.5 236.002V221.002C127.483 220.198 127.203 219.42 126.701 218.79L126.749 218.753L117.131 205.932C119.635 203.149 120.58 199.297 119.648 195.671C118.718 192.046 116.034 189.127 112.5 187.895V119.753H239.999V123.503C239.999 125.575 241.678 127.253 243.749 127.253H251.249V303.501H236.249V153.502H228.749V168.502H206.249V161.002H198.749V168.502H176.249V164.752H168.749V168.502H146.25V157.252H194.999V149.752H146.25V134.753H138.75V303.501H132.802L115.151 285.852C113.686 284.387 111.313 284.387 109.848 285.852L92.1972 303.501H90V311.001H314.998V303.501H312.074C314.713 300.621 315.65 296.567 314.544 292.819C313.44 289.073 310.454 286.176 306.673 285.187C308.579 280.487 307.107 275.095 303.075 272.017C299.044 268.939 293.452 268.939 289.422 272.017C285.39 275.095 283.918 280.487 285.824 285.187C282.043 286.176 279.057 289.073 277.953 292.819C276.847 296.567 277.784 300.621 280.423 303.501H273.749V127.253H281.249C283.319 127.253 284.999 125.575 284.999 123.503V119.753H311.248C313.319 119.753 314.998 118.075 314.998 116.003V101.003C314.998 98.9319 313.319 97.2528 311.248 97.2528ZM110.625 209.752L116.25 217.252H101.25L106.875 209.752H110.625ZM120 234.451L114.697 239.752H102.803L97.4999 234.451V224.752H120V234.451ZM295.124 104.753L284.999 111.504V104.753H295.124ZM247.499 93.5029H262.499V108.503H247.499V93.5029ZM146.25 105.504L156.375 112.253H136.124L146.25 105.504ZM123.75 111.504L113.624 104.753H133.875L123.75 111.504ZM158.624 104.753H178.875L168.749 111.504L158.624 104.753ZM191.249 105.504L201.375 112.253H181.124L191.249 105.504ZM203.623 104.753H223.875L213.749 111.504L203.623 104.753ZM97.4999 104.753H100.126L111.376 112.253H97.4999V104.753ZM226.123 112.253L237.373 104.753H239.999V112.253H226.123ZM266.249 291.127L259.499 281.002L266.249 270.878V291.127ZM266.249 201.128L259.499 191.002L266.249 180.878V201.128ZM258.749 203.378L265.498 213.502L258.749 223.628V203.378ZM258.749 178.628V158.379L265.498 168.502L258.749 178.628ZM258.749 248.378L265.498 258.502L258.749 268.627V248.378ZM266.249 246.106L259.499 236.002L266.249 225.878V246.106ZM259.499 146.002L266.249 135.879V156.128L259.499 146.002ZM258.749 133.628V127.253H262.993L258.749 133.628ZM228.749 176.002V213.502H206.249V176.002H228.749ZM198.749 176.002V208.252L190.125 199.729C189.426 199.039 188.483 198.649 187.499 198.645H176.249V176.002H198.749ZM168.749 176.002V182.253H146.25V176.002H168.749ZM112.5 293.804L122.197 303.501H102.803L112.5 293.804ZM146.25 303.501V189.753H168.749V202.41C168.749 204.482 170.428 206.16 172.499 206.16H185.958L199.873 219.92C200.573 220.61 201.516 221 202.499 221.002H228.749V303.501H146.25ZM258.749 293.378L265.498 303.501H258.749V293.378ZM303.748 299.751C301.678 299.751 299.998 298.074 299.998 296.001C299.998 293.93 301.678 292.251 303.748 292.251C305.819 292.251 307.498 293.93 307.498 296.001C307.498 298.074 305.819 299.751 303.748 299.751ZM296.248 277.252C298.319 277.252 299.998 278.931 299.998 281.002C299.998 283.074 298.319 284.751 296.248 284.751C294.178 284.751 292.498 283.074 292.498 281.002C292.498 278.931 294.178 277.252 296.248 277.252ZM288.749 292.251C290.819 292.251 292.498 293.93 292.498 296.001C292.498 298.074 290.819 299.751 288.749 299.751C286.678 299.751 284.999 298.074 284.999 296.001C284.999 293.93 286.678 292.251 288.749 292.251ZM277.499 119.753H247.499V116.003H266.249C268.32 116.003 269.999 114.325 269.999 112.253V93.5029H277.499V119.753ZM297.373 112.253L307.498 105.504V112.253H297.373Z"
              fill="white"
            />
          </g>
          <defs>
            <filter
              id="filter0_f"
              x="0"
              y="0"
              width="395"
              height="395"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="BackgroundImageFix"
                result="shape"
              />
              <feGaussianBlur
                stdDeviation="5"
                result="effect1_foregroundBlur"
              />
            </filter>
            <filter
              id="filter1_f"
              x="10"
              y="10"
              width="375"
              height="375"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="BackgroundImageFix"
                result="shape"
              />
              <feGaussianBlur
                stdDeviation="1.5"
                result="effect1_foregroundBlur"
              />
            </filter>
            <clipPath id="clip0">
              <rect
                width="225"
                height="225"
                fill="white"
                transform="translate(90 86)"
              />
            </clipPath>
          </defs>
        </svg>
      </template>
    </CategoryHeader>
    <Advertising></Advertising>
    <h2 class="text_center text_neon">{{ body.title }}</h2>
    <AdList v-bind="props"></AdList>
  </div>
</template>

<script>
import CategoryHeader from '@/components/Category/Header/CategoryHeader'
import Advertising from '@/components/Advertising'
import AdList from '@/components/Ad/AdList'
// import { getUrl, jsonToParams } from '@/assets/js/util'
import {
  getCategoryIDByUrl,
  apiGetAds,
  getCategoryMeta
} from '@/assets/js/mixins'

export default {
  layout: 'Category',
  components: {
    CategoryHeader,
    Advertising,
    AdList
  },
  mixins: [getCategoryIDByUrl, apiGetAds, getCategoryMeta],
  data() {
    return {
      ads: [],
      authorTypeId: null,
      typeID: null
    }
  },
  computed: {
    props() {
      const obj = []
      if (this.authorTypeId) {
        obj.push({ authorTypeId: this.authorTypeId })
        if (this.authorTypeId === 1) obj.push({ privateAd: true })
        if (this.authorTypeId === 2) obj.push({ companyAd: true })
        if (this.authorTypeId === 3) obj.push({ customerAd: true })
      }
      if (this.category.id) obj.push({ category: this.category.id })
      if (this.ads) obj.push({ adsProp: this.ads })
      if (this.typeID === 3) obj.push({ customerAd: true })
      return obj
    }
  }
}
</script>

<style lang="scss">
@import '~assets/scss/app/index.scss';
</style>
